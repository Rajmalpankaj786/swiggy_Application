<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Operation</title>
    <style>
        h1{
            text-align: center;
        }
        #form{
            text-align: center;
            width: 100%;
           
            height: 200px;
        }
        #parent>#form>input{
          width: 300px;
          height: 30px;
          gap: 3px;
        }
        #parent{
            display: flex;
        }

    </style>
</head>
<body bgcolor="cran">
       <h1> Swiggy Application</h1>
       <div id="parent">
        <form action="form" id="form">
            <h2> Delivery Partner Registration</h2>
            <input type="text" name="name" id="name" placeholder="Enter the DeliveryPartner Name"><br>
            <input type="text" name="phoneNumber" id="phoneNumber" placeholder="Enter the phoneNumber" ><br>
            <input type="button" value="Register" onclick="registerDP()">
           </form>
          
           
       </div>
       
    
</body>
<script>
    function registerDP(){
    var EfirstName = document.getElementById("name").value;
    var Eemail = document.getElementById("phoneNumber").value;

   
    fetch("http://localhost:8080/deliveryPartner/dp" , {
        method : "POST",
        headers : {
            "content-type" : "application/json"
        },
        body : JSON.stringify({
            "name" : EfirstName,
            "phoneNumber"   : Eemail,
           
        }) 
       
    }).then(res => {
       
        if(res.status==201 | res.status==200){
            res.json().then(data =>  {
           alert("Delivery Partner registered Successfully" , data.empId)
            })
        }
        else{
            res.json().then(data => alert("invalid data"))
        }
    })
   
   
}
</script>
</html>